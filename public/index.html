<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Year Review</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@lottiefiles/lottie-player@1.5.7/dist/lottie-player.min.js"></script>
</head>
<body>

    <div id="loader" class="loader">
        <div class="spinner"></div>
    </div>

    <div id="app" style="display: none;">
        
        <div id="progress-bar" class="progress-container"></div>
        <div class="tap-zone tap-left" onclick="prevSlide()"></div>
        <div class="tap-zone tap-right" onclick="nextSlide()"></div>

        <!-- SLIDE 1: INTRO (Blue) -->
        <div class="slide bg-blue active">
            <div class="snow"></div>
            
            <div class="header-zone">
                <h1 class="slide-title" data-key="title_1">Rising Star!</h1>
                <p class="subtitle" data-key="sub_1">You joined Telegram</p>
            </div>
            
            <div class="content-zone">
                <div class="sticker-container">
                    <lottie-player src="stickers/intro.json" background="transparent" speed="1" loop autoplay></lottie-player>
                </div>
                <h2 id="days-on-tg">0</h2>
                <span class="unit" data-key="unit_days">days ago</span>
            </div>

            <div class="footer-zone">
                <button class="btn btn-primary" onclick="nextSlide()" data-key="btn_next">Continue</button>
            </div>
            
            <div id="user-photo-container" class="photo-badge">
                <img id="user-photo" src="">
            </div>
        </div>

        <!-- SLIDE 2: MESSAGES (Orange) -->
        <div class="slide bg-orange">
            <div class="snow"></div>
            <div class="header-zone">
                <h1 class="slide-title" data-key="title_2">Chatterbox</h1>
                <p class="subtitle" data-key="sub_2">Total messages sent</p>
            </div>
            <div class="content-zone">
                <div class="sticker-container">
                    <lottie-player src="stickers/messages.json" background="transparent" speed="1" loop autoplay></lottie-player>
                </div>
                <h2 id="total-msgs">0</h2>
                <span class="unit" data-key="unit_msgs">messages</span>
            </div>
            <div class="footer-zone">
                <button class="btn btn-primary" onclick="nextSlide()" data-key="btn_next">Continue</button>
                <button class="btn btn-secondary" onclick="prevSlide()" data-key="btn_back">Back</button>
            </div>
        </div>

        <!-- SLIDE 3: VOICE (Green) -->
        <div class="slide bg-green">
            <div class="snow"></div>
            <div class="header-zone">
                <h1 class="slide-title" data-key="title_3">Voice Master</h1>
                <p class="subtitle" data-key="sub_3">You prefer to be heard</p>
            </div>
            <div class="content-zone">
                <div class="sticker-container">
                    <lottie-player src="stickers/voice.json" background="transparent" speed="1" loop autoplay></lottie-player>
                </div>
                <h2 id="stat-voice">0</h2>
                <span class="unit" data-key="unit_voice">voice messages</span>
            </div>
            <div class="footer-zone">
                <button class="btn btn-primary" onclick="nextSlide()" data-key="btn_next">Continue</button>
                <button class="btn btn-secondary" onclick="prevSlide()" data-key="btn_back">Back</button>
            </div>
        </div>

        <!-- SLIDE 4: VIDEO (Purple) -->
        <div class="slide bg-purple">
            <div class="snow"></div>
            <div class="header-zone">
                <h1 class="slide-title" data-key="title_4">Camera Lover</h1>
                <p class="subtitle" data-key="sub_4">Video circles recorded</p>
            </div>
            <div class="content-zone">
                <div class="sticker-container">
                    <lottie-player src="stickers/video.json" background="transparent" speed="1" loop autoplay></lottie-player>
                </div>
                <h2 id="stat-video">0</h2>
                <span class="unit" data-key="unit_video">circles</span>
            </div>
            <div class="footer-zone">
                <button class="btn btn-primary" onclick="nextSlide()" data-key="btn_next">Continue</button>
                <button class="btn btn-secondary" onclick="prevSlide()" data-key="btn_back">Back</button>
            </div>
        </div>

        <!-- SLIDE 5: GHOST (Red) -->
        <div class="slide bg-red">
            <div class="snow"></div>
            <div class="header-zone">
                <h1 class="slide-title" data-key="title_5">Ghost Mode</h1>
                <p class="subtitle" data-key="sub_5">Opened app but silent</p>
            </div>
            <div class="content-zone">
                <div class="sticker-container">
                    <lottie-player src="stickers/ghost.json" background="transparent" speed="1" loop autoplay></lottie-player>
                </div>
                <h2 id="ghost-count">0</h2>
                <span class="unit" data-key="unit_times">times</span>
            </div>
            <div class="footer-zone">
                <button class="btn btn-primary" onclick="nextSlide()" data-key="btn_next">Continue</button>
                <button class="btn btn-secondary" onclick="prevSlide()" data-key="btn_back">Back</button>
            </div>
        </div>

        <!-- SLIDE 6: STREAK (Yellow) -->
        <div class="slide bg-yellow">
            <div class="snow"></div>
            <div class="header-zone">
                <h1 class="slide-title" data-key="title_6">Addicted?</h1>
                <p class="subtitle" data-key="sub_6">Longest daily streak</p>
            </div>
            <div class="content-zone">
                <div class="sticker-container">
                    <lottie-player src="stickers/streak.json" background="transparent" speed="1" loop autoplay></lottie-player>
                </div>
                <h2 id="days-streak">0</h2>
                <span class="unit" data-key="unit_days_row">days in a row</span>
            </div>
            <div class="footer-zone">
                <button class="btn btn-primary" onclick="Telegram.WebApp.close()" data-key="btn_close">Close App</button>
                <button class="btn btn-secondary" onclick="prevSlide()" data-key="btn_back">Back</button>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
